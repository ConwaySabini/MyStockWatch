{"version":3,"sources":["../../server/controllers/AutocompleteController.js"],"names":["validator","require","onGetAutocomplete","req","res","autocomplete","Autocomplete","getAutocomplete","status","json","success","error","onCreateAutocomplete","trie","body","string","JSON","stringify","createdAutocomplete","createAutocomplete","onDeleteAutocomplete","deleteAutocomplete","params","id","message","deletedCount"],"mappings":";;;;;;;AAGA;;;;AAHA;AACA,MAAMA,SAAS,GAAGC,OAAO,CAAC,WAAD,CAAzB,C,CACA;;;AAGA;eACe;AACX;AACAC,EAAAA,iBAAiB,EAAE,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACnC,QAAI;AACA;AACA,YAAMC,YAAY,GAAG,MAAMC,sBAAaC,eAAb,EAA3B;AACA,aAAOH,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,QAAAA,OAAO,EAAE,IAAX;AAAiBL,QAAAA;AAAjB,OAArB,CAAP;AACH,KAJD,CAIE,OAAOM,KAAP,EAAc;AACZ,aAAOP,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,QAAAA,OAAO,EAAE,KAAX;AAAkBC,QAAAA,KAAK,EAAEA;AAAzB,OAArB,CAAP;AACH;AACJ,GAVU;AAYX;AACA;AACAC,EAAAA,oBAAoB,EAAE,OAAOT,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAI;AACA,YAAM;AAAES,QAAAA;AAAF,UAAWV,GAAG,CAACW,IAArB,CADA,CAEA;AACA;;AACA,YAAMC,MAAM,GAAGC,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAAf;AACA,YAAMK,mBAAmB,GAAG,MAAMZ,sBAAaa,kBAAb,CAC9BJ,MAD8B,CAAlC,CALA,CAQA;AACA;AAEA;;AACA,aAAOX,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,QAAAA,OAAO,EAAE,IAAX;AAAiBQ,QAAAA;AAAjB,OAArB,CAAP;AACH,KAbD,CAaE,OAAOP,KAAP,EAAc;AACZ,aAAOP,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,QAAAA,OAAO,EAAE,KAAX;AAAkBC,QAAAA,KAAK,EAAEA;AAAzB,OAArB,CAAP;AACH;AACJ,GA/BU;AAiCX;AACA;AACAS,EAAAA,oBAAoB,EAAE,OAAOjB,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAI;AACA,YAAMS,IAAI,GAAG,MAAMP,sBAAae,kBAAb,CAAgClB,GAAG,CAACmB,MAAJ,CAAWC,EAA3C,CAAnB;AACA,aAAOnB,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACxBC,QAAAA,OAAO,EAAE,IADe;AAExBc,QAAAA,OAAO,EAAG,sBAAqBX,IAAI,CAACY,YAAa;AAFzB,OAArB,CAAP;AAIH,KAND,CAME,OAAOd,KAAP,EAAc;AACZ,aAAOP,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,QAAAA,OAAO,EAAE,KAAX;AAAkBC,QAAAA,KAAK,EAAEA;AAAzB,OAArB,CAAP;AACH;AACJ;AA7CU,C","sourcesContent":["// libraries\nconst validator = require('validator');\n// models\nimport Autocomplete from '../models/Autocomplete.js';\n\n// Export Autocomplete Controller\nexport default {\n    // Returns a list of all stocks\n    onGetAutocomplete: async (req, res) => {\n        try {\n            // finds all stocks and returns them\n            const autocomplete = await Autocomplete.getAutocomplete();\n            return res.status(200).json({ success: true, autocomplete });\n        } catch (error) {\n            return res.status(500).json({ success: false, error: error });\n        }\n    },\n\n    // Tries to create autocomplete, returns the autocomplete on success,\n    // otherwise returns an error\n    onCreateAutocomplete: async (req, res) => {\n        try {\n            const { trie } = req.body;\n            //console.log(\"trie: \", trie);\n            // create the autocomplete\n            const string = JSON.stringify(trie);\n            const createdAutocomplete = await Autocomplete.createAutocomplete(\n                string\n            );\n            //const autocomplete = new Autocomplete({ trie: string });\n            //await autocomplete.save();\n\n            // return the autocomplete and success message\n            return res.status(200).json({ success: true, createdAutocomplete });\n        } catch (error) {\n            return res.status(500).json({ success: false, error: error });\n        }\n    },\n\n    // Delete the autocomplete with the given id and returns the success message on success,\n    // otherwise returns an error\n    onDeleteAutocomplete: async (req, res) => {\n        try {\n            const trie = await Autocomplete.deleteAutocomplete(req.params.id);\n            return res.status(200).json({\n                success: true,\n                message: `Deleted a count of ${trie.deletedCount} tries.`\n            });\n        } catch (error) {\n            return res.status(500).json({ success: false, error: error });\n        }\n    },\n}\n"],"file":"AutocompleteController.js"}